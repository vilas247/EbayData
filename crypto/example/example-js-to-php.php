<?php error_reporting(E_ALL);?>
<?php
$data = 'U2FsdGVkX180r51DpcFio0zFzumK18POTHETdghfahYzxcCp5/uixZ7nnabJvlo9xpE9bt4lLk02fYd/Y21vAC56m+xJ29jsdICgQ4UGwLFUUZrFPYDnej5STH3Cf52gIEN25bHHCv70MhEg6tS9pQUGKJ/wB7V6yCwhkgdO1lyB6e28+/Rs/ksdIJfKrw1JoJyOZn0hSdM4ZQvG2F+UQniXc1swqx6AGEnlm6i0jdopQ0YjzmGc9e0FTt3axKY4mn+cqmwKnWvi/hbYAekiUl/Iem7G7YXwJj+h7sbfvAVbjRNzyoeS/+u7txtzg5exKGJ2qMQeEu8F9DYR4VPpncAlroJKmQAVcbf9U5bOPiV2dWmwyyHa+1z88ESyZ2zKp803I8BzPjP9hdMBQQ1HqUTFA/6wavw1+Sv9R5uCR5CCyF1Xm4dwZjxWaSgrUyPxJHq2+5TpId+w6bfIVan8zN9YZjxjKRdJnuIPJmmlS7Q7tXrJ1TBeWmMO/Zo6Tb2PTJSJAFOBgM0ez3zSPo5byRvjKXCVgKkUeFLzjPvZLZ8MO85rSAekgDwCqzf5cDXI1UdVB9U69CHPk32uhUC+QgQTGRpBzoO+oBpvlowC6aYpOohbhSM6WrJpgWAUBHN3jIfvzDEUFSDQ6HZ0zgUHUON+s+xuFC6LN0Np64E6AVGXkxUE1dZFX0YWoRteG/ZpaOT0Cot3ch5quI3wl4oPqGUpKl8pDzQh+PUTbfDiQPiIIYjp4JwqwiM7eoBA64wmZw3doQlU137sGJ+WmOQjS3HBkynB2LAgZ5MbA+5GjGM97UmGcCoQ7M8FaetjFO+k2QzsW3IlGAjn4ta9Lxo28h2U4tTWhKHML6Y3uVhpRGE94WD+/tML08DGpXOyTZnEb6CAhbFDGGK0Jid6nQeivGz6iwyNYN0qAn7W7wxP/Ic8ZK7JjNxWbuA+dGhYPS227P6QQ8DjBS/e3eL8xoxm3DgCCXc6nwDuEpQHqReoFCSz3gGx5EcH57cERObS/+8QJXfOXCGuu5CKw6mwSS8Ep3bnmZPdigy236hCdaprjzIdx0h9e86mNPj2xlfDk9R3AdMwLmUwoNE/pznK7gOd+wl8iQGEdrT0aQGX4o8fpL7KXxeYPcYdKPMNTHE73coEwduE9gnrTfoSmvI4OlNWnBkw/TYT+/3BWGGU/zqB/QD1Q7WkoX3fTil2FJyG3lBUo5gusw7xB34BHPGU0zhs+oLo2sPJSnsP5pLWmlwNtoSW+nmRWgWWps46MTCX6yYd/AxUHoa/801bC0U3v1SJdyL6oJrvYhflZSWjgqqqB1bnGaw5jKOQvnyKyOu69L+U9tVVo/7wH60vvbapULjbPF3tw9i2GeLAvLgPevFUqvgrJcH23mrg37fsXJ1gDqj744QrKGGTWpEkFKLc1GqYHf70ulVJneLra7wXBpv4rGQo5z08g80SmSFmHTyBF8ePJTM87K+FSrE3uvSz0OTfCS1bKZV6tmoUzcRXDnSJSUQtGeo+P9v66MRX96objBHUX9wSKaTWTX7Je2DM18BfRvm23Ha5xFDNd2AoGWwi1/Z+r6iJPj7EM5t2vTwA0P17iz9IZ4rRGJEPxJoP2vV7QQOCSCeWEmgAi/UK0WJhjrVat3dyE4pAb4Il3EelzL0j7bBnTNZCMcZpIYKwd7E1rab17SZow1ezYww129xuq0udFFiqgQwy3dYB/LkaWm2A0cs4Rhbvl+56PFl2vTEa8JapIzuLeimtrcG/AzQRLGXOuQHJGWha9Ht21x/f8yRiPsMwvSbQYYM9Gqd7pgMwYJxEl1ZvMCPN0HkjgfJfp7QzuqQ0d0rbJ5XtWxmKLHl/2JSC8/IzygxQkYMqHXr3kELrZTRmfif3zD5hSdsSgs0WQGZ6fGBdlVEGlH9EYKB6aNQ09Bxkx/Egfs1Zl664DCtIf+dF8/12C3lh5ngYlHK09X7397DdzEsDl5bLSuuKIX0Tm5+TeUr38JjG3qRvUBiT+BM0Ypu4kr39TlFWDdDjWHnQmH/lBfb4VOR1RDnGFNIapv5CYRfSM0xn5Wkf/J+WHfqa9y9d9OEqtag3WKe45ojOSxsRJOrm+8e6aL3qPjRGoOPY2AD47tCyV2bwhGdtM4wTRgvrYI+caha+s8JE617j/N37yrJkxg3HfhePerwjzYkZqDoQ0yCY6EquAt2J/f7WGrpkc/qRj9nrpqoqh8epx/a/brMxlAzRyXvaNIq4Jg1sBe9x2474ZDanW0z2xQwOuKzFTFuoFNkSqEimJVKousxQAmKBbGHul8y0dZxev8YqJNZG+C1rWOYVBecKGwsOXWj+1oChYhYZDQL/BU7POZuJZOdnqyjcR0K2IwHXYyu6PaKxa1rXMu14yBE8AvQw0Wqhw988CcWsZLUHKjfKwCcpZb0yw/PKp+LNNODa2L9VALKJuQg/lBsbwMJq5FNbj3hn6DGImf4/ogBJvzER1NSJKTXLIo4P2YWt7j2a0daxKYzj6ezPOgyFPART6x8quxJQYs8TzSPmpMga3JVpey7PaKRoh9LA+M1jEan3vGAl9vq5D11UX+FMhFgUHh65BnrW9T+BC4D3x2mWEJ1V8bft0C5Og1qVnalD0sqmh4t150uPpmIF45Qs8tIx9dOt8nDwLm+TSZlGx0JZd7ZZ4q0JFSXewzAnDhv/Fp3Vm2D7QV2zgYcY/BgPw9CRDrVD67TdUt7AZIfV00Bqdv7DQPRZK9Usw/hjqiYWNWkHAt+grc7l76h2vxEE6ZZMUPGNQmTlnS7DPBqOq51kl3QQdXRq5iRvWBZglWvsoEMl1TqeQ8fOAW6YM4IAncQofw1CFaifEe+gmYwN6b0VcFRCUfx4VU93qfCUoD2EtUU2niJJkgkbg4Lxd6YHRG3aNiCIzBS4U79JuUfe5NBBx455jz2V2LFGBYwGt/jIYDUer6BZ6CnjBRCUHEzK1FQXsRjT+gXzrZzetDiJ7wkQWzEqfhcCTq+8A0uNPbOphR2IklvpaBA4PLoKidMjL9g9Edcw/k8s6JSEkz+wEaximTvIaRUKBn9JaPH8sQ0nuqL1qh345Qu72AMfnQEVXJ9isNWS6C2kZxqfIYRYgdgbOBG7PQPaeV3ZwqoCkQ7hP89nHqr4DruehYtOCvP8PONSYomLy2oGMMKvMfuoiYJGHHmHkQCPGJbgub81rCZ71PvFe3hthzbqaoObMFIudaGuOmXDIwh6buD9cXKJaWAoD7kRisYBF/Gx8nXcsDy5s+yu6LWhgr63VgrBxaWFCUazvAmJCbQdbQuZ6Be4bu+EhdZ7T1by/tOLjrl4ssaLVBQpt4DZXb/dB2lnBGiipk0oO6ZzXPzhWIqdMsi6MJdH6BP+FSSl/v+WgwK8W6CvOlzIcxg9i8GzNvAm+QPMj3Nu3E6aQkIpAg44fcTNZ0gMvNFAfBWnNkHKQVK6nv3KmcEj5N9KkKxrD908srI37iqMGSGGjGgE0tMuXllHda0rK5XRHFdHs+UgVEXF4D715QH0MIWH1BvMLyZMIhnafcBk0gzLLf3W1cC1OAgbJLfglYlgNpg1Xl348NxH7c9UKuwQCRciDLVcHK0aYLUYwdReaE5EPNuaGLJbmcVYUmMy0WMoAJb08lJWPl7FKuwBI9/SLkqRDQZdo3njFh/XAWYXqILjQu+m4gubIhe12YTchYSHSZP1IcdR7qayz1ZY5p5OW/gTvILqGYRFxP/0y5TqaPZllOcVh77cEEPAgKGNbS8DNwElwk80Sr08jAX5Qs9xKRmVmt9YMECASs7mJZ8aWLrxNNeGz2TnNBgX3SRcdTKRW/tNjklnl/tNmcTVvTqyFfg57kvGFjShsQj5cQWHIPd6yXJkHkT6csIU3KNVuf90S56z1e09xCL2lQnoZEz5vm5dz9QSoV7WjQBQ9/fdgO8FcOpEs63e20tG9XhRt7vcmfi/07Tsj2hQal72bR+gln4IHTzrd0A9WJFZEe9FocwbFBsvopZUFyuKRuBKgQ7/JN519sc6Dkzj1st5pweeBmbi6nyn/znQig8KtL70ZBSvlldk4/A8oUax7gEiqvFGksK6H3vl2HSUTogEFboaToEtIffFetFefvpNumPVdSsY2Qj76HTd/lQrHZ2hjbzprLqXM7dxP5Ifq0vHmA9ezWGN2zECiSwv740zEvBmRp85Lvd76eS4POP2vfBWrLLXhomrD35RFFyGtgKLtL7fqag2rckCOIXCwAnIcTNy57/4bQucnABUwR4u6HrJRYEfRcyQF8hF8JEKBD9fiAHb/buwq//bvwQgtGQQjUVHC6AMZpnX7JC8sBbexipMG9eoXORnq+ieQXUrVLISH3riomTpt/25VHKrtOhkyy/RNQPSAq4C5nU9IpBcC0z0nudgU3OsCCShGHAi90VkJf1q4y4IQP/DysQiDH02gMnzVrATxEXpgrYTJS3l2GM/K7L9YlkCI36HO9xYd3S1bsiyH6cR+QvPpPxwrN8FMNqEgK5xgep5U+DCDgY9zdRsrCzOkzGIbWUC75/r/NH9BE3Nmn38kXOaaMblvuTdv2d+jQaqJQe2WnG6ZrGYb1LhQ0X49KZExwBEjHwTx+9vM0sLc9rGNirE62o05Dbb+4WKu0ZJnghjmYPblxyunVr2tnDudLPL8tYN/yj2RFKv73gxta9R6LW7tuUYIF09XswnewcxZfGwz2rQ3y2ze/zGf/GRirsgaOcLFSyrtFXtsZUCkIgfqBRAcmc9NUXj6BtukpEGlhtUeQOX4FgOsUMeG9fF4LygpnnYmLs3ekDP6QvcE60wYrNAOMbWxB/6nhjQ7fWM7Uau+29HjhkS+noKuWCuXq0RbXalM64RGUA86e4gwvbfE4GEJ0dfL2kgKsceMY1DRz5kHbzKk7VTEiMsOh9yOEJyhlz+W7M4ku36L5TqMrgl6E0mFgjEBIApm8IUJj6c7oFsmnxKe4vM1SZaZ1Jl0sSyPNLZ8NvFdGxdmYgVGS1Mkc6L5QYhawJswVdt1SKDIFr+7nG0pA0a5X7LO66W7LKOJn5OpHDWWtFhbcd4/Uppl4gfVH66Ry1QKx33zj9Rz8OxU+Y3K5QWLMk/Y+G1mzENz8zMSJjzogOpg1ALe8crQrlfKbTbrwVi8cAgmFBuj1cQMzXlwN78bg7S+VfDLWxNWEQlzR5p1A9wovQKr1oIgfn2cdsxPBJvn79rJsYoBq6mSsxubSek84QLGHJn0OJ1ifWOUWOLN4VWKehTN2rIu1cpA6EknhVIN18qHbIsMnWkz92ksGJpogtkKBWwZxS0PYvkrqZlxaeBgmx9RSbIzo3bKTVFDvGAJ6qq8V6i6AfRmlddXtHDib7uesj54GqhkSIwzhOJkw3gJSJk5r5Mgpudwhw72gYmp/FH2UOdS8BF2UNwr+naKERQi8RN2xcymJ8dDb/U9GM9zq8I2ugFfkVTz0dblPJDOB6b98vlPqaz7CaXX75sXsiErMTTv1Pcuv0lzPVP5vdxg7XTAFQJJsNFRdNLrUtpwYUmk+JTV8ZpLT1/ypj8h3Cf8GkKwx3QfwsfGI+hKyJCOia8c7/rYq778OIpKk4B2Giujr/5B8znmE6pR6yukIeCBYdjjjyimrV9BlxhhA7VjwL87dt/ZC5p//hD9ieP5176JjcycJHAhdfZu0JhefR4eZNFzcelSWh3hOCEdgFTmJfzY9XuN8jZ9cXLPdCvwWydppZF2DQVOzZwB6Fj14fHmQRhbD5eZ3ch3jUkMY4hu58S2iSTclDNmA88LeX9yjGSowDwXQlLpU67m6iNTBKJACXLfnyomeJJm+tXBWc6E9bBthRO0+TvCHrK9qxJCrxEJ+zhyAXpoHE7phqh4gwoUNWqB2moDCl77vyR8o+f3nT4U50YvfC+xStE1+a0Lc02Gjxlvfc42xoB/ejQgFBuhXkr4NOECAmHNDs3koR0P0Lf1w1ZQgjer6oVLAnEBUsJQWes6GOfsqlBGAR2UtTvsut08voSGo8/0+6gwFyC18cnXZYjNO5Kvv2vLj+2CVUauZPlp6IMt3uvX6JpQGNXRESGJko6jFvOmp1vDFJDGMV1b8M8ecIeOXJWsASNs+TYlWgMYzmQgGXc8KO3gBM6tEGOG7sMvcfJ0jhMFaf3vS05cSglGqjHU9PZ9QJ+9iqqmCxCsPUhZCPLvPHMT3VpheWZsr4TTlyzsRlpC5JSV8J9va2P5QJbpbuPPlsbChE+ps6mQbiSJ1/qCUcsScngeL7zKoh/6j3ZBJBMmkfc6LsO4YSrOk2EgoFD9myGaHWNLFfJasXldAC0qigL24p6mGe9CVQdqiOQFS9CGyfzGv9cj8cK0iUu0HLmTJxbnLODubwILJIIvPfwzNYXlqBAtuO4jJBWYuosSYtvgjnIvrLl8tsV+VhWV7IOHjv52YgVn/Pd/ozz8vcXXdtT3WVUSo+gsKyiXdmpGoVYB03DAl4ghwAAxlmXf1TDPzTlo2El2PfHJHEejfzL6kx5bar7/eZc16uu26A1Etxq9S/vqlqYx6iKDga9ysCQZW5FhIpMAqLm7MUPyWQJcdTZzqZaivrx27ElIKFyiCFfEDsOGUJF0CbKKQEyXjQI5IlbnaYLY4qxW0jGlSHTikqW7Rh2ZHnkgO0dMjdeuWdn3n8kH/Lj2+8cB3UvfX50OB4aTRhY+Kxg/JL3dXLYKyPR9IbVVgQraSezl3ab/00/9dOquIhwoB3e4b2T13bASEM4t7Kr30dcQ0qqvcT6tC8TyiO02n3KrJHEMZWt8ur6DzR7tII4qHFSvzZqdlnrzZcRYR4y6kVDL7TUS77sRJ6LvKfnXhiyZrltVzwqU2bjCRavJua8n1BDHRLSh+3ZrkH3zKi8FKlq3EmIvMsCOyMZVSmWYv7KfN0ENMKpmXUfm8DZTrx6uG5BarJd4+s9Ev+BskXrqnlzWxCZlQfIOfIbUQXX/5EnBH1ow6FMwgW5iy2mHTyrtEGmRawu+Ia8+6bNe8tvRdwYZ5PW9FALCXZ4+1qXdnhsKBZ1p1t53E7gVdewwZp79K5utQivVDlTbp93I1tYM6XCZ/ZJoEb/IZejo0mYmSaYPAw7uPRtutqvuLrEjJNVzOtaQXVO3agxv+YVcJTitrwm3wYWcqyZYt3Ak4aGgBb0EjAP92C+Boqm18Dci3/vNQfrMaDymJJSK8d7vaSTebc1LcDcYM96GHmia/1a0HTE8bNZw6+lAT7skNRYKJG+REEwuBA3mxx2oxVahTlJCr2CDrtBhOZ2A4ph5kW9mh/oaPEfYRnZcc9BCdyrfn6NJ8ES00w1ijAggvZc49kM/IzeS5NmCwcOdioy4KTBYJ5NFw0Wfvdt2MH8fHWD1TNQajtyEcrtOpr8OJWL7KFadl45QZWhLa7bdDVxfsVfel6Xcp1KrzuzR3OFLo2c3eKPNKW6nYEtCp2Ko8Kq0c+Lk20GS+wmChq71FlwtDNFhmsqlmlU0DPzR1vT14dsMECRIgnCULCremGy3Ghxj4jRIdVvwAPJLysrTbxfSonvnMLcHnj5Saz46Q9fQQXROO4gHH1iAA/QHcpmXHIlmDEImMHBEAHuTUI+83tIEdnTsGiXMoX0OTWq6bvI3vLNQvJGzWejk0jjwecnSpyOSY3Gm0Hf10HVEO+4+Hbm8V7w/oY53ICqCrhn2CAb3QE6ZvudywaTHe9wj2UTnqktAGVi5LSZ1soocewLemG07zsm+dVQYRRwHSXHhZDZ+005Llxu0NisyF9kyoc1//Uo0TBTN0LZitb/Qczc2225AtzzR7FyF99EliTWU8r103OoAKwe5sGHoBt8he/6Snk3VHzWvHmhIxFKmRrW9Znw5dxrlikP5O+U67djN+VOF8ntDHapdCvmXk4KMDS0NDQcd3n1jx7puV/jK/S+ATKHmPJ7v4Dpgza9MgMMQBiBqgSQ+7CDQ2DoXnSNe6OdN5feXDhr9KkTSR2yTAi7bOWHBoMohjMWMjEfkYF4QxsTAuJfhlZGR76/iT+m/tKCktdHEmCsgihZp2lZrlfnIDVf5jadOMteMhvcZptLvRHlMQZVdUqIwRqLTuG3LF/QmEGN8zXW5RPS7HRgWr9DwnfOi11yeHq50pG6MZYv0vzU6Lh1CGC12DKBtkWAos7Mx0awIrItrHRCNIBevv5HrLKJ54/ReW8rx7q7Wk3GXgoXl3Z149Gqjd1KEai431+skMbbUY0kcnN1cW2yVIMDMKD0mCW9qUFzkCiopk0Ug6UnfJkeS3WViANPCuk2KG0XHcsszwaNtNPCONjfH7d/FUg+BFfPCOhDCUp6gVl9dSh8j0OBKtIattlCHr3FIF6H4uCRGQgDaCa4O7co4eJo1ZBH3kJQNF1ke0g2TZ1zeNKTib/g7/klEyr5ZBGsw1+t074WRaYar7I7QlJOq6HWROtM5Hj+wsTnX0/N38AK6sot1xjvsMEnUlVR6iLXpoeDyCYDMBCW5dfe93qQzA7mGhqwGBJ0uMAMeFhe0Fyb1kizdurDYjwADX4QlZNXkn4K/oNKdyWTonUVPNjHvwBkfNUU69gskpSdPD5VXD0ac+Ur3g4p1Egv9pzVPmJGll9Q/PAQ8+cmiPpIgNWy+p4f0nfSY8Y=';
$passphrase = "38aystr0ngpa55w0rd";
?>
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>CryptoJS AES and PHP</title>
<script type="text/javascript" src="aes.js"></script>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="../aes-json-format.js"></script>
<script type="text/javascript">
$(document).ready(function(){
    $(document.d).find(".val, .pass").on("keyup init", function(){
        document.d.json.value = CryptoJS.AES.encrypt(JSON.stringify(document.d.val.value), document.d.pass.value, {format: CryptoJSAesJson}).toString();
    }).trigger("init");
});
</script>
</head>
<body>
<h1>CryptoJS AES and PHP</h1>

<h2>Example to encrypt with CryptoJS on client side and decrypt on PHP side</h2>
<?php
if(isset($_POST["decrypt"])){
    include("../cryptojs-aes.php");
    ?>
    Json value received: <input type="text" value="<?php echo htmlentities($_POST["json"])?>" size="90" disabled="disabled"/><br/>
    Passphrase: <input type="text" value="<?php echo $_POST["pass"]?>" size="90" disabled="disabled"/><br/>
    Decrypted value: <input type="text" value="<?php echo cryptoJsAesDecrypt($_POST["pass"], $_POST["json"])?>" size="45" disabled="disabled"/><br/>
    <hr/>
    <br/><br/>
    <?php
}
?>

<form name="d" method="post" action="">
    Value to encrypt: <input type="text" name="val" value="My string - Could also be an JS array/object" class="val" size="45"/><br/>
    Passphrase: <input type="text" name="pass" class="pass" value="my secret passphrase" size="45"/><br/>
    CryptoJS encrypted json output: <input type="text" name="json" class="json" size="90" onclick="this.select()"/>
    <input type="submit" name="decrypt" value="Send to server and decrypt"/>
</form>

</body>
</html>
